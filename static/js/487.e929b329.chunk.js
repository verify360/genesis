"use strict";(self.webpackChunkverify360_react=self.webpackChunkverify360_react||[]).push([[487],{52052:(e,t,i)=>{i.r(t),i.d(t,{default:()=>B});var n=i(81153),d=i(57621),a=i(39504),l=i(70242),s=i(74512),r=i(15825),o=i(30439),c=i(74599),u=i(71192),m=i(763),h=i(72426),p=i.n(h),v=i(72791),x=i(57689),g=i(25180),f=i(4567),_=i(64554),y=i(39281),j=i(15416),k=i(62155),b=i(9195),C=i(68745),S=(i(77648),i(9936),i(80184));function Z(e){let{orderId:t,totalRequiredData:i=[],formData:d={}}=e;const[a,l]=(0,v.useState)([]);(0,v.useEffect)((()=>{if(!(0,m.isEmpty)(i)){const e=i.map((e=>{const t=(0,m.every)(e,(e=>""!==e));return{...e,complete:t}}));l(e)}}),[i]);const s={"First Name":(0,m.get)(d,"first_name",""),"Last Name":(0,m.get)(d,"last_name",""),"Middle Name":(0,m.get)(d,"father_name",""),Email:(0,m.get)(d,"email",""),"National ID":(0,m.get)(d,"uid",""),DOB:(0,m.get)(d,"dob",""),"Mobile No":(0,m.get)(d,"phone","")};return(0,S.jsxs)(n.ZP,{container:!0,spacing:0,sx:{margin:"0px !important",paddingBottom:"2rem",borderCollapse:"collapse"},children:[(0,S.jsx)(f.Z,{sx:{width:"100%",display:"flex",justifyContent:"center",textDecoration:"underline",fontWeight:550,fontSize:"0.875rem!important",pb:3},children:"Review Order"}),(0,S.jsx)(n.ZP,{container:!0,xs:12,sm:4,md:4,lg:4,sx:{borderRight:"1px solid #ddd","& .MuiGrid-item":{padding:"10px",borderBottom:"1px solid #ddd"}},children:Object.entries(s).map(((e,t)=>{let[i,d]=e;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(n.ZP,{item:!0,xs:3.5,children:(0,S.jsxs)(f.Z,{variant:"subtitle1",sx:{fontWeight:500},children:[i,":"]})},t),(0,S.jsx)(n.ZP,{item:!0,xs:8.5,children:d})]})}))}),(0,S.jsxs)(n.ZP,{item:!0,xs:12,sm:8,children:[(0,S.jsxs)(_.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:[(0,S.jsxs)("div",{style:{marginLeft:"10px",width:"66%",display:"flex",gap:8},children:[(0,S.jsx)(f.Z,{variant:"subtitle1",sx:{fontWeight:500},children:"Client:"}),(0,S.jsx)("span",{children:null===d||void 0===d?void 0:d.client_name})]}),(0,S.jsxs)("div",{style:{width:"50%",display:"flex",gap:8},children:[(0,S.jsx)(f.Z,{variant:"subtitle1",sx:{fontWeight:500},children:"Package:"}),(0,S.jsx)("span",{children:null===d||void 0===d?void 0:d.checks_package})]})]}),(0,S.jsx)(y.Z,{sx:{pt:"20px"},children:(0,S.jsx)(j.Z,{variant:"striped",className:"tableChild",width:"100%",children:(0,S.jsx)(k.Z,{children:null===a||void 0===a?void 0:a.map(((e,t)=>{var i,n;return(0,S.jsx)(v.Fragment,{children:t%2===0&&(0,S.jsxs)(b.Z,{sx:{border:"1px solid #ddd",borderRight:"none !important",borderLeft:"none !important"},children:[(0,S.jsx)(C.Z,{width:"40%",sx:{p:"10px !important"},children:null===e||void 0===e?void 0:e.check_name}),(0,S.jsx)(C.Z,{width:"10%",sx:{p:"10px !important",borderRight:"1px solid #ddd"},children:null!==e&&void 0!==e&&e.complete?(0,S.jsx)("span",{style:{color:"green",fontWeight:550,fontSize:"1.3rem"},children:"\u2713"}):(0,S.jsx)("span",{style:{color:"red",fontWeight:550,fontSize:"1.3rem"},children:"\u2717"})}),t+1<(null===a||void 0===a?void 0:a.length)&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(C.Z,{width:"40%",sx:{p:"8.2px !important"},children:null===(i=a[t+1])||void 0===i?void 0:i.check_name}),(0,S.jsx)(C.Z,{width:"10%",sx:{p:"8.2px !important"},children:null!==(n=a[t+1])&&void 0!==n&&n.complete?(0,S.jsx)("span",{style:{color:"green",fontWeight:550,fontSize:"1.3rem"},children:"\u2713"}):(0,S.jsx)("span",{style:{color:"red",fontWeight:550,fontSize:"1.3rem"},children:"\u2717"})})]})]})},t)}))})})})]})]})}var D=i(18751),I=i(13239),E=i(45363),w=i(17563),O=i(82626),R=i(7692);function N(e){let{handleBillChange:t,formBillData:i,setFormBillData:d,formData:a}=e;const[l,s]=(0,v.useState)({}),[r,o]=(0,v.useState)(!1),u=(0,m.isEmpty)(l.terms)?[]:(0,m.map)(null===JSON||void 0===JSON?void 0:JSON.parse(l.terms),((e,t)=>({key:t,values:e})));return(0,v.useEffect)((()=>{(async()=>{try{var e;o(!0);const t=await c.Z.getClientById(null===a||void 0===a?void 0:a.client_id);s(JSON.parse(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data))}catch(t){console.error(t)}finally{o(!1)}})()}),[null===a||void 0===a?void 0:a.client_id]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(f.Z,{w:"100%",textAlign:"center",sx:{textDecoration:"underline",fontWeight:550,fontSize:"0.875rem!important"},children:"Billing Account"}),r?(0,S.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,S.jsx)(I.Z,{color:"inherit",size:20})}):(0,S.jsx)(n.ZP,{container:!0,sx:{margin:"0px !important",paddingBottom:"2rem",borderCollapse:"collapse",pt:"1rem",paddingX:2},children:(0,m.isEmpty)(u)?(0,S.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"center",fontSize:"0.9rem",fontWeight:"500",alignItems:"center"},children:[(0,S.jsx)(R.Cw1,{size:50,color:"#bf1e2e"}),"Billing Identifiers are not found"]}):null===u||void 0===u?void 0:u.map((e=>(0,S.jsxs)(v.Fragment,{children:[(0,S.jsx)(n.ZP,{item:!0,xs:3,children:(0,S.jsxs)(f.Z,{variant:"subtitle1",sx:{fontWeight:500,mb:2},children:[e.key,":"]})}),(0,S.jsx)(n.ZP,{item:!0,xs:9,sx:{mb:2},children:(0,S.jsx)(E.Z,{fullWidth:!0,children:(0,S.jsx)(w.Z,{value:i[e.key]||"",onChange:t=>{return i=e.key,n=t.target.value,void d((e=>({...e,[i]:n})));var i,n},placeholder:e.key,children:e.values.map((e=>(0,S.jsx)(O.Z,{value:e,children:e},e)))})})})]},e.key)))})]})}var q=i(35411),P=i(93006);function A(e){let{handleReqChange:t,formReqData:i,setFormReqData:d}=e;localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user"));return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(f.Z,{w:"100%",textAlign:"center",sx:{textDecoration:"underline",fontWeight:550,fontSize:"0.875rem!important"},children:"Order Request Details"}),(0,S.jsxs)(n.ZP,{container:!0,spacing:0,sx:{margin:"0px !important",paddingBottom:"2rem",borderCollapse:"collapse",pt:"1rem"},children:[(0,S.jsxs)(n.ZP,{container:!0,xs:12,sm:6,md:6,lg:6,sx:{borderRight:"1px solid #ddd","& .MuiGrid-item":{padding:"10px",borderBottom:"1px solid #ddd","&:first-child":{borderTop:"1px solid #ddd"}}},children:[(0,S.jsx)(n.ZP,{item:!0,xs:6,sx:{borderTop:"1px solid #ddd!important"},children:(0,S.jsx)(f.Z,{variant:"subtitle1",sx:{fontWeight:500},children:"Order Requested By:"})}),(0,S.jsx)(n.ZP,{item:!0,xs:6,sx:{borderTop:"1px solid #ddd"},children:(0,S.jsx)(P.Z,{fullWidth:!0,placeholder:"Order Requested By",shadow:"sm",fontSize:{sm:"sm"},value:null===i||void 0===i?void 0:i.requesterName,onChange:e=>{var t;return(0,g.Qu)("requesterName",null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value,d)}})}),(0,S.jsx)(n.ZP,{item:!0,xs:6,children:(0,S.jsx)(f.Z,{variant:"subtitle1",sx:{fontWeight:500},children:"Phone:"})}),(0,S.jsx)(n.ZP,{item:!0,xs:6,children:(0,S.jsx)(P.Z,{placeholder:"Phone",fullWidth:!0,shadow:"sm",fontSize:{sm:"sm"},value:null===i||void 0===i?void 0:i.phone,onChange:t("phone")})})]}),(0,S.jsxs)(n.ZP,{container:!0,xs:12,sm:6,md:6,lg:6,sx:{"& .MuiGrid-item":{padding:"10px",borderBottom:"1px solid #ddd","&:first-child":{borderTop:"1px solid #ddd"}}},children:[(0,S.jsx)(n.ZP,{item:!0,xs:6,children:(0,S.jsx)(f.Z,{variant:"subtitle1",sx:{fontWeight:500},children:"Email:"})}),(0,S.jsx)(n.ZP,{item:!0,xs:6,sx:{borderTop:"1px solid #ddd!important"},children:(0,S.jsx)(P.Z,{placeholder:"Email",fullWidth:!0,shadow:"sm",fontSize:{sm:"sm"},value:null===i||void 0===i?void 0:i.email,onChange:t("email")})})]})]})]})}function B(){var e,t,i,h;const f=(0,x.s0)(),{id:_}=(0,x.UO)(),[y,j]=(0,v.useState)([]),[k,b]=(0,v.useState)(void 0),[C,I]=(0,v.useState)(0),[E,w]=(0,v.useState)(0),[O,R]=(0,v.useState)(0),[P,B]=(0,v.useState)(0),[F,M]=(0,v.useState)([]),[z,W]=(0,v.useState)([]),[T,J]=(0,v.useState)([]),[Y,L]=(0,v.useState)({}),[H,G]=(0,v.useState)({}),U=localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user")),Q=(e,t)=>{try{const i=null===JSON||void 0===JSON?void 0:JSON.parse(e),n=null===JSON||void 0===JSON?void 0:JSON.parse(t);return(0,m.unionBy)(i,n,"term_text")}catch(k){return console.error("Error parsing JSON:",k),[]}},X=null!==U&&void 0!==U&&U.terms&&null!==U&&void 0!==U&&null!==(e=U.clientInfo)&&void 0!==e&&e.terms?Q(null===U||void 0===U?void 0:U.terms,null===U||void 0===U||null===(t=U.clientInfo)||void 0===t?void 0:t.terms):null!==U&&void 0!==U&&U.terms?Q(null===U||void 0===U?void 0:U.terms):null!==U&&void 0!==U&&null!==(i=U.clientInfo)&&void 0!==i&&i.terms?Q(null===U||void 0===U||null===(h=U.clientInfo)||void 0===h?void 0:h.terms):[],V=(0,m.filter)(X,(e=>"Order Form"===(null===e||void 0===e?void 0:e.term_component))),K=["Package","Billing","Requester","Review"],[$,ee]=(0,v.useState)(K),[te,ie]=(0,v.useState)({first_name:!1,last_name:!1,email:!1,dob:!1,uid:!1,isCheckboxChecked:!1}),[ne,de]=(0,v.useState)({checks_package:"",first_name:"",last_name:"",father_name:(0,m.get)(U,"father_name",""),middle_name:"",alias_name:"",phone:"",email:"",dob:"",uid:"",alter_phone:(0,m.get)(U,"alter_phone",""),date_created:p()().format("YYYY-MM-DD HH:mm:ss"),status:null!==U&&void 0!==U&&U.support?"INCOMPLETE":"DRAFT",created_by_id:(0,m.get)(U,"_id",""),created_by_name:(0,m.get)(U,"username",""),client_id:(0,m.get)(U,"clientInfo.id",""),client_name:(0,m.get)(U,"client_name",""),currency:(0,m.get)(U,"clientInfo.currency","INR"),country:(0,m.get)(U,"clientInfo.country","India"),client_project:""}),[ae,le]=(0,v.useState)([]),[se,re]=(0,v.useState)({gender:"",address1:"",address2:"",country:"",city:"",state:"",nationality:"",zipcode:""}),[oe,ce]=(0,v.useState)({Country:"",State:"",City:"",Address:""}),[ue,me]=(0,v.useState)(""),[he,pe]=(0,v.useState)({requesterName:"",phone:"",email:"",dob:(0,m.includes)(g._8,null===U||void 0===U?void 0:U.role)?"-":"",uid:""}),[ve,xe]=(0,v.useState)({ackby:"",acknowledged:!1}),ge={fontSize:"0.675rem",marginTop:"2px"},fe={borderRadius:"15%",width:"32px",height:"32px",textAlign:"Center",color:"#FFF",paddingTop:"5px"},{user:_e}=(0,u.a)();let ye=_e.token;const je=e=>{C!==(null===$||void 0===$?void 0:$.length)-1&&$[C]?I((e=>e+1)):((0,g.OD)("Order created successfully"),f("/order/orders"))};(0,v.useEffect)((()=>{if(_)try{c.Z.OrderDetails({token:ye,id:_}).then((e=>{var t,i,n;let d=JSON.parse(e.data.data).rowsData;de({checks_package:(0,m.get)(d[0],"checks_package",""),first_name:(0,m.get)(d[0],"first_name",""),last_name:(0,m.get)(d[0],"last_name",""),father_name:(0,m.get)(d[0],"father_name",""),middle_name:"",alias_name:(0,m.get)(d[0],"alias_name",""),phone:(0,m.get)(d[0],"phone",""),email:(0,m.get)(d[0],"email",""),dob:(0,m.get)(d[0],"dob",""),uid:(0,m.get)(d[0],"uid",""),alter_phone:(0,m.get)(d[0],"alter_phone",""),client_id:(0,m.get)(d[0],"client_id",""),client_name:(0,m.get)(d[0],"client_name","")});const a=d.map((e=>e.subRows)),l=null===(t=(0,m.find)(d,(e=>null===e||void 0===e?void 0:e.order_info)))||void 0===t?void 0:t.order_info,s=null===(i=l[0])||void 0===i?void 0:i.info_data;if(J((0,m.flatMap)(a)),R(null===(n=l[0])||void 0===n?void 0:n.id),(0,m.isEmpty)(s))me(ue),pe(he);else{const e=null===s||void 0===s?void 0:s.replace(/\\/g,""),t=e?JSON.parse(e):{};me((0,m.get)(t,"Billing")),pe((0,m.get)(t,"Requester"))}}))}catch(k){console.error("Error fetching checks:",k)}else ee(K),j([]),b(void 0),I(0),w(0),R(0),B(0),M([]),W([]),J([]),L({}),G({}),ie({first_name:!1,last_name:!1,email:!1,dob:!1,uid:!1,isCheckboxChecked:!1}),de({checks_package:"",first_name:"",last_name:"",father_name:(0,m.get)(U,"father_name",""),middle_name:"",alias_name:"",phone:"",email:"",dob:"",uid:"",alter_phone:(0,m.get)(U,"alter_phone",""),date_created:p()().format("YYYY-MM-DD HH:mm:ss"),status:null!==U&&void 0!==U&&U.support?"INCOMPLETE":"DRAFT",created_by_id:(0,m.get)(U,"_id",""),created_by_name:(0,m.get)(U,"username",""),client_id:(0,m.get)(U,"clientInfo.id",""),client_name:(0,m.get)(U,"client_name",""),currency:(0,m.get)(U,"clientInfo.currency","INR"),country:(0,m.get)(U,"clientInfo.country","India"),client_project:""}),re({gender:"",address1:"",address2:"",country:"",city:"",state:"",nationality:"",zipcode:""}),ce({Country:"",State:"",City:"",Address:""}),me(""),pe({requesterName:"",phone:"",email:"",dob:(0,m.includes)(g._8,null===U||void 0===U?void 0:U.role)?"-":"",uid:""}),xe({ackby:"",acknowledged:!1})}),[_]),(0,v.useEffect)((()=>{if(!(0,m.isEmpty)(T)&&_){const e=K,t=(0,m.map)(T,(e=>null===e||void 0===e?void 0:e.check)),i=2;e.splice(i+1,0,...t),ee(e),le(["Package","Billing","Requester",...(0,m.map)(T,(e=>null===e||void 0===e?void 0:e.check_alias)),"Review"]),w(_),I(2),B((0,m.map)(T,(e=>null===e||void 0===e?void 0:e.order_checks_id)))}else ee(K),I(0),B(0)}),[T,_]);(0,v.useEffect)((()=>{if(!_){const e={},t=$.map((t=>{var i;const n=null===(i=(0,m.find)(y,{check_name:t}))||void 0===i?void 0:i.check_alias;return K.includes(t)?t:(e[t]||(e[t]=0),e[t]++,"".concat(n,"-").concat(e[t]))}));le(t)}}),[$]);const ke=async(e,t)=>{let i=_e.token;e&&e.preventDefault();const n=(0,m.some)(z,{isAdded:!0}),d=(0,m.sortBy)(z.filter((e=>1==e.isAdded)),(e=>$.indexOf(e.check_name))),a=(0,m.map)(d,((e,t)=>({...e,package_included:"A LA Carte"!==(null===y||void 0===y?void 0:y.package_name)})));if(!(0,m.isEmpty)(null===ne||void 0===ne?void 0:ne.first_name)&&!(0,m.isEmpty)(null===ne||void 0===ne?void 0:ne.last_name)&&!(0,m.isEmpty)(null===ne||void 0===ne?void 0:ne.email)&&!(0,m.isEmpty)(null===ne||void 0===ne?void 0:ne.dob)&&!(0,m.isEmpty)(null===ne||void 0===ne?void 0:ne.uid)&&n)try{if(_){var l;const e=await(null===c.Z||void 0===c.Z?void 0:c.Z.updateOrder(ne,_));null!==e&&void 0!==e&&e.data&&!0===(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.success)&&je()}else{var s,r,o;const n={...ne,middle_name:(0,m.isEmpty)(null===ne||void 0===ne?void 0:ne.middle_name)?"-":null===ne||void 0===ne?void 0:ne.middle_name,alias_name:(0,m.isEmpty)(null===ne||void 0===ne?void 0:ne.alias_name)?"-":null===ne||void 0===ne?void 0:ne.alias_name};let d=await c.Z.CreateRequest({data:{cinfo:(0,m.omit)(n,["country","currency"]),pinfo:(0,m.map)(a,(e=>(0,m.omit)(e,["package_name"]))),currency:(0,m.get)(ne,"currency","INR"),country:(0,m.get)(ne,"country","India")},token:i});if(null!==d&&void 0!==d&&d.data&&!1===(null===d||void 0===d||null===(s=d.data)||void 0===s?void 0:s.success))return b(d.data.msg);var u,h,p;w(null===d||void 0===d||null===(u=d.data)||void 0===u?void 0:u.orderId),R(null===d||void 0===d||null===(h=d.data)||void 0===h?void 0:h.orderInfoId),B(null===d||void 0===d||null===(p=d.data)||void 0===p?void 0:p.orderchecksId),"Save&Close"===t&&((0,g.OD)("Order created successfully"),f("/order/orders"));null===e||void 0===e||null===(r=e.target)||void 0===r||r.dataset.mssg;je(null===d||void 0===d||null===(o=d.data)||void 0===o||o.orderId)}}catch(v){return v.response?b(v.response.data.msg):b("There has been an error.")}},be=async e=>{let t=_e.token;"Review"!==$[C]&&G((e=>{const t=(0,m.findIndex)(e,(e=>e.steps===C));return-1!==t?e.map(((e,i)=>i===t?{...e,...Y}:e)):(0,m.isEmpty)(e)?(0,m.isEmpty)(Y)?{}:[{...Y,steps:C,check_name:$[C]}]:[...e,{...Y,steps:C,check_name:$[C]}]})),ce({Country:null!==F&&void 0!==F&&F.Country?null===F||void 0===F?void 0:F.Country:null===oe||void 0===oe?void 0:oe.Country,City:null!==F&&void 0!==F&&F.City?null===F||void 0===F?void 0:F.City:null===oe||void 0===oe?void 0:oe.City,State:null!==F&&void 0!==F&&F.State?null===F||void 0===F?void 0:F.State:null===oe||void 0===oe?void 0:oe.State,Address:null!==F&&void 0!==F&&F.Address?null===F||void 0===F?void 0:F.Address:null===oe||void 0===oe?void 0:oe.Address}),e&&e.preventDefault();try{var i;let n={step:$[C],id:O,order_id:E,client_id:null===ne||void 0===ne?void 0:ne.client_id,client_name:null===ne||void 0===ne?void 0:ne.client_name},d=(e=>{switch(e){case 1:return{[$[e]]:ue};case 2:return{[$[e]]:he};case $.length-1:return{[$[e]]:ve};default:return{AutoGenInfo:F}}})(C);n=[n,d];let a=[];if(C>2&&C<$.length&&!(0,m.isEqual)(C,$.length-1)){const e=3===C?0:C-3;a=await c.Z.UpdateOrderchecks({data:(0,m.concat)(n,{check_config:P[e]}),token:t,id:P[e]})}else if(1===C){c.Z.updateOrder({client_project:(0,m.join)((0,m.values)(ue)," | ")},E)}else if(a=await c.Z.UpdateRequest({data:n,token:t,id:O}),"Review"===$[C]){let e={table_name:"order_checks",field_to_update:"check_status",new_value:"PENDING",table_id:_?(0,m.map)((0,m.filter)(T,(e=>"DRAFT"===(null===e||void 0===e?void 0:e.status)||"INITIATED"===(null===e||void 0===e?void 0:e.status)||"VENDOR"===(null===e||void 0===e?void 0:e.status))),"order_checks_id"):P,column_to_match:"id"},t=c.Z.updateOrder({status:"PENDING",date_enabled:p()().format("YYYY-MM-DD HH:mm:ss")},E);null===t||void 0===t||t.then((t=>{if(200===(null===t||void 0===t?void 0:t.status)){let t=c.Z.UpdateMultipleAssignee(e);null===t||void 0===t||t.then((e=>{200===(null===e||void 0===e?void 0:e.status)&&je()}))}}))}if(a.data&&!1===a.data.success)return b(a.data.msg);null===e||void 0===e||null===(i=e.target)||void 0===i||i.dataset.mssg;M([]),"Review"!==$[C]&&je()}catch(n){return n.response?b(n.response.data.msg):b("There has been an error.")}};(0,v.useEffect)((()=>{const e=(0,m.some)(z,{isAdded:!0});ie({first_name:!!(0,m.isEmpty)(ne.first_name)&&te.first_name,last_name:!!(0,m.isEmpty)(ne.last_name)&&te.last_name,email:!!(0,m.isEmpty)(ne.email)&&te.email,dob:!!(0,m.isEmpty)(ne.dob)&&te.dob,uid:!!(0,m.isEmpty)(ne.uid)&&te.uid,isCheckboxChecked:!e&&te.isCheckboxChecked})}),[ne,z]);const Ce=()=>{const e=(0,m.some)(z,{isAdded:!0});ie({first_name:!!(0,m.isEmpty)(ne.first_name),last_name:!!(0,m.isEmpty)(ne.last_name),dob:!!(0,m.isEmpty)(ne.dob),uid:!!(0,m.isEmpty)(ne.uid),email:!!(0,m.isEmpty)(ne.email),isCheckboxChecked:!e})};return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(n.ZP,{container:!0,width:"100%",children:(0,S.jsxs)(n.ZP,{item:!0,width:"100%",sx:{"& .MuiStepLabel-label":{lineHeight:"0.8em",marginTop:"5px"},"& .MuiCardContent-root:last-child":{padding:"10px"},"& .MuiTableCell-root":{padding:"10px",borderBottom:"none !important"},"& .MuiSelect-select":{padding:"5px 15px"},"& .MuiInputBase-input":{padding:"5px 5px"},"& .MuiOutlinedInput-input":{padding:"5px 5px"},"& .MuiFormLabel-root":{top:"-11px"}},children:[(0,S.jsx)(d.Z,{children:(0,S.jsx)(a.Z,{sx:{overflowX:"scroll",maxWidth:{xs:"400px",sm:(0,m.size)($)>10?"600px":"100%",md:(0,m.size)($)>10?"720px":"100%",lg:(0,m.size)($)>10?"1300px":"100%",xl:(0,m.size)($)>10?"1200px":"100%"}},children:(0,S.jsx)(l.Z,{activeStep:C,alternativeLabel:!0,children:$.map(((e,t)=>(0,S.jsx)(s.Z,{children:(0,S.jsx)(r.Z,{style:{...ge},icon:(0,S.jsx)("div",{style:{...fe,cursor:"pointer",backgroundColor:C>=t?"#1976D2":"#ccc"},children:t+1}),onClick:()=>{_&&t!==$.length-1&&I(t)},children:(0,S.jsx)("div",{style:{...ge},children:ae[t]})})},t)))})})}),(0,S.jsx)("p",{}),(0,S.jsx)(d.Z,{children:(0,S.jsxs)(a.Z,{children:[k,0===C&&(0,S.jsx)(q.Z,{token:ye,formData:ne,setFormData:de,handleChange:e=>t=>{de({...ne,[e]:t.target.value})},handleQtyChange:(e,t)=>{const i=[...y];i[t].qty=parseInt(e.target.value),W(i);const n=(0,m.filter)(i,(e=>!0===(null===e||void 0===e?void 0:e.isAdded))),d=[...$];n.forEach((e=>{const t=(0,m.findIndex)(d,(t=>(0,m.isEqual)(t,null===e||void 0===e?void 0:e.check_name)));if(-1!==t){const i=d.filter((t=>t===e.check_name)).length;if(i>e.qty){const t=i-e.qty,n=d.lastIndexOf(e.check_name);d.splice(n-t+1,t)}else i<e.qty&&d.splice(t+1,0,...Array.from({length:parseInt(e.qty,10)-i},(()=>e.check_name)))}else d.push(e.check_name,...Array.from({length:parseInt(e.qty,10)-1},(()=>e.check_name)))})),ee(d)},handleChecksChange:(e,t)=>{const i=[...y];i[t].isAdded=e.target.checked,i[t].qty=e.target.checked?1:0,W(i);let n=[...$],d=i[t].check_name;e.target.checked?(n=n.filter((e=>"Review"!==e)),n.push(i[t].check_name),n.push("Review")):n=n.filter((e=>e!==d));const a=[...n.slice(0,4),...(0,m.sortBy)(n.slice(4,-1)),n[n.length-1]];ee(a)},setSteps:ee,steps:$,data:y,setData:j,checksData:z,setChecksData:W,errorMessage:te,intialsteps:K,terms:V,setAddressDetail:ce,subRowList:T,isCandidateOrder:!1}),1===C&&(0,S.jsx)(N,{setFormBillData:me,formBillData:ue,handleBillChange:e=>t=>{ue.orderId=E,me({...ue,[e]:t.target.value})},formData:ne}),2===C&&(0,S.jsx)(A,{setFormReqData:pe,formReqData:he,handleReqChange:e=>t=>{he.orderId=E,pe({...he,[e]:t.target.value})}}),C>2&&C<$.length-1&&(0,S.jsx)(D.i,{orderId:E,orderChecksId:P,setOrderChecksId:B,stepname:ae[C],dynFormData:F,setDynFormData:M,handleEduChange:(e,t)=>{M({...F,[e]:t.target.value})},activeStep:C,requiredData:Y,setRequiredData:L,addressDetail:oe,isCandidateOrder:!1}),C===$.length-1&&(0,S.jsx)(Z,{orderId:E,totalRequiredData:H,formData:ne})]})}),(0,S.jsx)("p",{}),(0,S.jsx)(d.Z,{children:(0,S.jsx)(a.Z,{children:(0,S.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"1rem"},children:[(0,S.jsxs)("div",{children:[0!==C?(0,S.jsx)(o.Z,{onClick:()=>{I((e=>e-1))},variant:"contained",w:"7rem",children:"Back"}):null,0===C&&(0,S.jsx)(o.Z,{w:"12rem",disabled:C===$.length-1,"data-mssg":"continue",variant:"contained",onClick:()=>{0===C?(Ce(),ke()):be()},children:"Save & Continue >>>"})]}),(0,S.jsxs)("div",{children:[0!==C&&C!==$.length-1&&(0,S.jsx)(o.Z,{w:"12rem",sx:{marginRight:.5,backgroundColor:"grey"},disabled:C===$.length-1,"data-mssg":"continue",variant:"contained",onClick:()=>{0===C?(Ce(),ke()):be()},children:"Skip"}),0!==C&&C!==$.length-1?(0,S.jsx)(o.Z,{onClick:()=>{C>2&&C<$.length-1&&(0,m.some)(Y,m.isEmpty)?(0,g.OD)("Please fill up the required data of the form","error"):be()},variant:"contained",w:"7rem",children:"Save & Next"}):null,C===$.length-1||0===C?(0,S.jsxs)(S.Fragment,{children:[C===$.length-1&&!(0,m.isEmpty)(H)&&(0,m.some)(H,(e=>(0,m.some)(e,(e=>""===e))))&&(0,S.jsx)(o.Z,{w:"12rem",sx:{marginRight:.5,backgroundColor:"grey"},"data-mssg":"continue",variant:"contained",onClick:()=>{(0,g.OD)("Order created successfully"),f("/order/orders")},children:"Close"}),(0,S.jsx)(o.Z,{w:"7rem",variant:"contained","data-mssg":"close",disabled:C===$.length-1&&!(0,m.isEmpty)(H)&&(0,m.some)(H,(e=>(0,m.some)(e,(e=>""===e)))),onClick:e=>{0===C?(Ce(),ke(e,"Save&Close")):be()},children:0===C?"Save & Close":"Submit Order"})]}):null]})]})})})]})})})}}}]);
//# sourceMappingURL=487.e929b329.chunk.js.map